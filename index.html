<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crab Snare Co.</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="search-index.js"></script>
    <script src="scripts.js"></script>
    <style>
        /* Additional CSS for wave footer */
        html, body {
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        footer {
            background: #F2E6D8;
            position: relative;
            height: 100px; /* Adjust as needed */
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .wave {
            animation: wave calc(var(--speed, 0) * 1s) infinite linear;
            background-image: url("https://assets.codepen.io/605876/wave--infinite.svg");
            background-size: 50% 100%;
            bottom: -5%;
            height: calc(var(--height, 0) * 1vh);
            left: 0;
            opacity: var(--opacity);
            position: absolute;
            right: 0;
            width: calc(var(--width, 0) * 1vw);
            will-change: transform;
        }

        .wave:nth-of-type(1) {
            z-index: 1;
        }

        .wave:nth-of-type(2) {
            z-index: 2;
        }

        .wave:nth-of-type(3) {
            z-index: 3;
        }

        @keyframes wave {
            to {
                transform: translate(-50%, 0);
            }
        }

        /* Styles for the cart popup */
        .cart-popup {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1001; /* Above other content */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }

        .cart-popup-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
            max-width: 600px;
            text-align: center; /* Center text content */
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .cart-product {
            text-align: center;
            margin-bottom: 20px; /* Add some space between product and button */
        }

        .cart-product img {
            width: 150px;
            height: auto;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .go-to-cart {
            background-color: #333;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin: 10px 0;
        }

        .go-to-cart:hover {
            background-color: #555;
        }

        .continue-shopping {
            display: inline-block;
            margin-top: 10px;
            text-decoration: underline;
            color: #333;
            cursor: pointer;
        }

        .continue-shopping:hover {
            color: #555;
        }

        .cart-icon {
            position: relative;
        }

        .cart-count {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: red;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <header>
        <div class="hamburger-menu" id="hamburger-menu">â˜°</div>
        <div class="logo"><img src="images/logo_01.svg" alt="Crab Snare Co."></div>
        <nav class="nav-menu" id="nav-menu">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="products.html">Products</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
        <div class="searchBox">
            <input class="searchInput" type="text" placeholder="Search">
            <button class="searchButton">
                <i class="material-icons">search</i>
            </button>
        </div>
        <div class="cart-icon">
            <img src="images/cart.png" alt="Cart Icon" class="cart-icon-img">
            <span class="cart-count">0</span>
        </div>
    </header>
    <div class="overlay" id="overlay"></div>
    <main>
        <section class="hero">
            <img src="images/caliocean.webp" alt="Hero Image">
        </section>
        <div class="content-backdrop">
            <section class="featured-product">
                <h2 class="section-title">Featured Product</h2>
                <div class="product">
                    <a href="unweighted-snare.html">
                        <img src="images/snare.jpg" alt="Featured Product">
                    </a>
                    <h2 class="product-title">Heavy Haul Unweighted Snare</h2>
                    <p class="price">$10.00</p>
                </div>
            </section>
            <!-- Add more content sections here as needed -->
        </div>
    </main>
    <footer>
        <div class="wave" style="--speed: 30; --opacity: 0.3; --height: 12; --width: 800;"></div>
        <div class="wave" style="--speed: 45; --opacity: 0.6; --height: 12; --width: 800;"></div>
        <div class="wave" style="--speed: 15; --opacity: 1; --height: 6; --width: 400;"></div>
    </footer>

    <!-- Cart Popup -->
    <div id="cart-popup" class="cart-popup">
        <div class="cart-popup-content">
            <span class="close">&times;</span>
            <h2>Added to Cart</h2>
            <div class="cart-product">
                <img src="" alt="Product Image" class="cart-product-image">
                <p class="cart-product-name"></p>
                <p class="cart-product-quantity"></p>
                <p class="cart-product-price"></p>
            </div>
            <button class="go-to-cart">Go to Cart</button>
            <a href="#" class="continue-shopping">Continue Shopping</a>
        </div>
    </div>

    <script>
        // JavaScript for hamburger menu and cart functionality
        document.addEventListener('DOMContentLoaded', () => {
            const hamburgerMenu = document.getElementById('hamburger-menu');
            const navMenu = document.getElementById('nav-menu');
            const overlay = document.getElementById('overlay');
            const cartIcon = document.querySelector('.cart-icon');
            const cartPopup = document.getElementById('cart-popup');
            const closePopup = document.querySelector('.close');
            const cartCountElement = document.querySelector('.cart-count');

            const toggleMenu = () => {
                navMenu.classList.toggle('active');
                overlay.classList.toggle('active');
            };

            hamburgerMenu.addEventListener('click', toggleMenu);
            overlay.addEventListener('click', toggleMenu);

            document.querySelectorAll('.nav-menu ul li a').forEach(link => {
                link.addEventListener('click', () => {
                    navMenu.classList.remove('active');
                    overlay.classList.remove('active');
                });
            });

            overlay.addEventListener('click', () => {
                navMenu.classList.remove('active');
                overlay.classList.remove('active');
            });

            cartIcon.addEventListener('click', () => {
                displayCartPopup();
            });

            closePopup.addEventListener('click', () => {
                cartPopup.style.display = 'none';
            });

            window.addEventListener('click', (event) => {
                if (event.target === cartPopup) {
                    cartPopup.style.display = 'none';
                }
            });

            const displayCartPopup = () => {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                if (cart.length > 0) {
                    const product = cart[0]; // Show the first product as an example
                    document.querySelector('.cart-product-image').src = 'images/snare.jpg';
                    document.querySelector('.cart-product-name').textContent = product.name;
                    document.querySelector('.cart-product-quantity').textContent = `Quantity: ${product.quantity}`;
                    document.querySelector('.cart-product-price').textContent = `Total: $${(product.price * product.quantity).toFixed(2)}`;
                    cartPopup.style.display = 'block';
                }
            };

            const updateCartCount = () => {
                const cart = JSON.parse(localStorage.getItem('cart')) || [];
                const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCountElement.innerText = cartCount;
            };

            updateCartCount();
        });
    </script>
</body>
</html>
